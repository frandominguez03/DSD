<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<link rel="stylesheet" href="css/main.css">
		<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
		<title>Interfaz Cliente</title>
    </head>
    
	<body>
		<div id="container">
			<div id="caja">
				<div id="estados">
					<p>Estado de la persiana: <span id="estadoPersiana"></span></p>
					<p>Estado del aire acondicionado: <span id="estadoAC"></span></p>
				</div>
				
				<div id="botones">
					<button class="boton" id="cambiarEstadoPersiana">Cambiar estado de la persiana</button>
					<button class="boton" id="cambiarEstadoAC">Cambiar estado del aire acondicionado</button>
				</div>
	
				<div id="alertas">
	
				</div>
			</div>
		</div>
    </body>
    
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
		var serviceURL = document.URL;
		var socket = io.connect(serviceURL);

		socket.emit('getEstadoPersiana');
		socket.emit('getEstadoAC');
		
		socket.on('estadoPersiana', function(data) {
			var persiana = document.getElementById('estadoPersiana');
			persiana.innerHTML = data;
		});

		socket.on('estadoAC', function(data) {
			var estadoAC = document.getElementById('estadoAC');
			estadoAC.innerHTML = data;
		});

		var cambiarEstadoPersiana = document.getElementById('cambiarEstadoPersiana');
		cambiarEstadoPersiana.onclick = function() {
			socket.emit('cambiarEstadoPersiana');
		}

		socket.on('actualizarPersiana', function(data) {
			var persiana = document.getElementById('estadoPersiana');
			persiana.innerHTML = data;
		});

		var cambiarEstadoAC= document.getElementById('cambiarEstadoAC');
		cambiarEstadoAC.onclick = function() {
			socket.emit('cambiarEstadoAC');
		}

		socket.on('actualizarAC', function(data) {
			var AC = document.getElementById('estadoAC');
			AC.innerHTML = data;
		});
	</script>
</html>
